import reducers from './index';

describe('initial reducer for stopPlace', () => {
    
    let state;
    
    beforeAll(() => {
        state = {};
    })

    it('should respond to change ', () => {
        state = reducers({ lastUpdated: null, transportMode: null, id: null, name: null, estimatedCalls: {} }, { type: 'ESTIMATED_CALLS_FETCH_REQUESTED' });
        expect(state).toEqual({ lastUpdated: null, transportMode: null, id: null, name: null, estimatedCalls: {} });
    });

    it('should respond to change ', () => {
        state = reducers({ lastUpdated: null, transportMode: null, id: null, name: null, estimatedCalls: {} }, { type: 'ESTIMATED_CALLS_FETCH_SUCCEEDED', body: { id: 'NSR:StopPlace:4000', name: 'Jernbanetorget', transportMode: 'bus', estimatedCalls: { '0': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:36:00+0200', expectedArrivalTime: '2018-09-13T00:36:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '54' } }, destinationDisplay: { frontText: 'Kjels책s stasjon' } }], '3': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:39:00+0200', expectedArrivalTime: '2018-09-13T00:39:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '54' } }, destinationDisplay: { frontText: 'Tjuvholmen' } }], '5': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:41:00+0200', expectedArrivalTime: '2018-09-13T00:41:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Fornebu' } }], '7': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:43:00+0200', expectedArrivalTime: '2018-09-13T00:43:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Tonsenhagen' } }], '15': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:51:00+0200', expectedArrivalTime: '2018-09-13T00:51:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '54' } }, destinationDisplay: { frontText: 'Kjels책s stasjon' } }], '36': [{ realtime: true, aimedArrivalTime: '2018-09-13T01:12:00+0200', expectedArrivalTime: '2018-09-13T01:12:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Grorud T' } }, { realtime: false, aimedArrivalTime: '2018-09-13T01:12:00+0200', expectedArrivalTime: '2018-09-13T01:12:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Fornebu' } }], '66': [{ realtime: false, aimedArrivalTime: '2018-09-13T01:42:00+0200', expectedArrivalTime: '2018-09-13T01:42:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Grorud T' } }, { realtime: false, aimedArrivalTime: '2018-09-13T01:42:00+0200', expectedArrivalTime: '2018-09-13T01:42:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Fornebu' } }], '96': [{ realtime: false, aimedArrivalTime: '2018-09-13T02:12:00+0200', expectedArrivalTime: '2018-09-13T02:12:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Grorud T' } }] } } });
        expect(state).toMatchObject({ id: 'NSR:StopPlace:4000', name: 'Jernbanetorget', transportMode: 'bus', estimatedCalls: { '0': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:36:00+0200', expectedArrivalTime: '2018-09-13T00:36:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '54' } }, destinationDisplay: { frontText: 'Kjels책s stasjon' } }], '3': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:39:00+0200', expectedArrivalTime: '2018-09-13T00:39:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '54' } }, destinationDisplay: { frontText: 'Tjuvholmen' } }], '5': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:41:00+0200', expectedArrivalTime: '2018-09-13T00:41:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Fornebu' } }], '7': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:43:00+0200', expectedArrivalTime: '2018-09-13T00:43:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Tonsenhagen' } }], '15': [{ realtime: false, aimedArrivalTime: '2018-09-13T00:51:00+0200', expectedArrivalTime: '2018-09-13T00:51:00+0200', date: '2018-09-12', serviceJourney: { line: { publicCode: '54' } }, destinationDisplay: { frontText: 'Kjels책s stasjon' } }], '36': [{ realtime: true, aimedArrivalTime: '2018-09-13T01:12:00+0200', expectedArrivalTime: '2018-09-13T01:12:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Grorud T' } }, { realtime: false, aimedArrivalTime: '2018-09-13T01:12:00+0200', expectedArrivalTime: '2018-09-13T01:12:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Fornebu' } }], '66': [{ realtime: false, aimedArrivalTime: '2018-09-13T01:42:00+0200', expectedArrivalTime: '2018-09-13T01:42:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Grorud T' } }, { realtime: false, aimedArrivalTime: '2018-09-13T01:42:00+0200', expectedArrivalTime: '2018-09-13T01:42:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Fornebu' } }], '96': [{ realtime: false, aimedArrivalTime: '2018-09-13T02:12:00+0200', expectedArrivalTime: '2018-09-13T02:12:00+0200', date: '2018-09-13', serviceJourney: { line: { publicCode: '31' } }, destinationDisplay: { frontText: 'Grorud T' } }] }, lastUpdated: expect.any(Number) });
    });

});
